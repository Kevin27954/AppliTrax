<p-messages [(value)]="authServiceErr" [enableService]="false" [closable]="true"></p-messages>

@if(authService.isAuth() !== false) {
    @defer (on timer(50)) {
        <main>

            <h1 id="h1-auth">Ready to Job Hunt?</h1>
            <p id="p-auth">Organize and Store all Your Applications Here</p>

            <div class="div-auth-form-wrapper">

                <form class="form-auth" [formGroup]="formGroup">

                    <div id="input-auth-forms" class="div-auth-inputs-wrapper">
                        <div class="div-auth-inputs-wrapper">
                            <label id="label-auth-inputs" for="email">Email</label>
                            <input data-testid="input-email" [class]="emailClassName" pInputText type="text" required
                                formControlName="email" id="email" name="email" placeholder="Email">
                            <small *ngIf="!emailRegexResult" id="email-help">Invalid Email Address</small>
                        </div>

                        <div class="div-auth-inputs-wrapper">
                            <label id="label-auth-inputs" for="password">Password</label>
                            <p-password data-testid="input-password" [class]="passwordClassName" formControlName="password"
                                [toggleMask]="true" [feedback]="false" placeholder="Password" />
                            <small *ngIf="!(passwordRegexResult && isSamePassword)"
                                id="password-help">{{passwordSmallText}}</small>
                        </div>

                        <div class="div-auth-inputs-wrapper">
                            <label id="label-auth-inputs" for="confirmPassword">Confirm Password</label>
                            <p-password data-testid="input-password" [class]="passwordClassName"
                                formControlName="confirmPassword" [toggleMask]="true" [feedback]="false"
                                placeholder="Confirm Password" />
                            <small *ngIf="!(passwordRegexResult && isSamePassword)"
                                id="password-help">{{passwordSmallText}}</small>
                        </div>
                    </div>

                    <p-button data-testid="btn-auth" class="bg-light-green" id="btn-auth-cont" label="Sign Up" [text]="true"
                        [raised]="true" (onClick)="handleSignUpWithEmail()"></p-button>

                    <p>-or-</p>

                    <div class="btn-auth-group-wrapper">
                        <p-button data-testid="btn-auth-google" id="btn-auth-google" icon="pi pi-google" [outlined]="true"
                            [raised]="true" (onClick)="handleLoginWithGoogle()"></p-button>
                        <p-button data-testid="btn-auth-github" id="btn-auth-github" icon="pi pi-github" [outlined]="true"
                            [raised]="true" (onClick)="handleLoginWithGithub()"></p-button>
                    </div>

                    <p>Already have an Account? <a routerLink="/auth/login" data-testid="a-login-link" class="text-link">Log
                            In</a></p>

                </form>
            </div>
        </main>
    }
} @else {
    <p>loading</p>
}